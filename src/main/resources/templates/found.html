<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8">
    <title>検索結果</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  </head>
  <body>
	<header>
		<style>
			header {
				display: flex; /* Flexboxを使用 */
				justify-content: space-between; /* 左右に配置 */
				align-items: center; /* 垂直中央揃え */
				background-color: #4CAF50; /* ヘッダーの背景色 */
				color: white; /* テキストの色 */
				padding: 10px 20px; /* 上下左右のパディング */
			}
			nav	{
				margin-left: auto; /* ナビゲーションを右に寄せる */
			}
			nav a {
				color: white; /* リンクの色 */
				text-decoration: none; /* 下線なし */
				margin: 0 15px; /* リンク間のマージン */
				font-size: 24px; /* フォントサイズの変更 */
			}
			footer {
            background-color: #333; /* フッターの背景色 */
            color: white; /* テキストの色 */
            text-align: center; /* 中央揃え */
            padding: 10px 0; /* 上下のパディング */
        	}
		</style>
		<h1>食品ロス管理アプリ</h1>
		<nav>
			<a href="/fwm">ホーム</a>
			<a href="/register">商品登録</a>
			<a href="#recipe">レシピ</a>
		</nav>
		
	</header>

	<h1>検索結果による食材</h1>
    <div class="container">
      <table class="table table-bordered">
	<thead class="thead-dark">
	  <tr>
	    <th>image<br/>画像</th>
	    <th>delete<br/>削除ボタン</th>
	    <th>Name<br/>(商品名)</th>
	    <th>Pdate<br/>(購入日)</th>
	    <th>Edate<br/>(賞味期限)</th>
	  </tr>
	</thead>
	<tbody>
	  <tr th:each="ing : ${fwm.getIngs()}"> <!--fwmはサーバから渡された値、getIngs()はそのオブジェクトのメソッドを呼びだしている-->
		<td>
			<a th:href="@{/registered(id=${ing.getId()})}">
			  <img th:src="@{/images/{filename}(filename=${ing.getFName()})}" alt="商品画像" style="max-width: 100%; max-height: 150px; width: auto; height: auto;"/>
			</a>
		</td>
		<td><a th:href="@{/delete(id=${ing.getId()})}">削除</a></td>
	    <td th:text="${ing.getPName()}"></td>
	    <td th:text="${ing.getPdate()}"></td>
	    <td th:text="${ing.getEdate()}"></td>
	  </tr>
	</tbody>
      </table>

	<h1>検索結果による賞味期限の近い食材</h1>
	<div class="container">
	<table class="table table-bordered">
	<thead class="thead-dark">
	<tr>
		<th>image<br/>画像</th>
	    <th>delete<br/>削除ボタン</th>
		<th>Name<br/>(商品名)</th>
		<th>Pdate<br/>(購入日)</th>
		<th>Edate<br/>(賞味期限)</th>
	</tr>
	</thead>
	<tbody>
	<tr th:each="ing : ${fwm.getExpiringIngs(2)}">
		<td>
			<a th:href="@{/registered(id=${ing.getId()})}">
			  <img th:src="@{/images/{filename}(filename=${ing.getFName()})}" alt="商品画像" style="width: 200px; height: auto;"/>
			</a>
		</td>
		<td><a th:href="@{/delete(id=${ing.getId()})}">削除</a></td>
		<td th:text="${ing.getPName()}"></td>
		<td th:text="${ing.getPdate()}"></td>
		<td th:text="${ing.getEdate()}"></td>
	</tr>
	</tbody>
	</table>  

    </div>

	<footer>
		<p>知能プログラミング演習Ⅱ グループ04 検索結果</p>
	</footer>
  </body>
</html>

