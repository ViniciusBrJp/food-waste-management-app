<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>食品ロス管理アプリ</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f8f9fa;
        color: #333;
      }

      .header {
          display: flex;
          background-color: #e0f7fa;
          padding: 15px 20px;
          align-items: center;
          box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .header .title{
            color:#004085;
        }

        .header .nav {
            margin-left: auto;
            list-style: none;
            display: flex;
            gap: 15px;
            margin: 0 15px;
            padding: 0;
        }

        .header .nav a {
            text-decoration: none;
            color: #007bff;
            font-size: 16px;
        }

        .header .nav a:hover {
            color: #0056b3;
        }

        .header .nav .active a {
            font-weight: bold;
            color: #004085;
        }

        .container {
            max-width: 900px;
            margin: 30px auto;
            padding: 20px;
            background: #ffffff;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .container h1{
            text-align: center;
            color: #004d40;
        }

        footer {
            text-align: center;
            padding: 10px;
            background-color: #e0f7fa;
            border-top: 1px solid #ddd;
            color: #004085;
        }
    </style>
    
  </head>
  
  <body>
    <header class="header">
      <h1 class="title">食品ロス管理アプリ</h1>
        <ul class="nav">
          <li class="active"><a herf="/fwm">ホーム</a></li>
          <li><a href="/register">商品登録</a></li>
        </ul>
      
      <!-- 検索フォームを追加 -->
      <form class="search-form" action="/search" method="post">
        <input type="text" name="keyword" placeholder="検索キーワード" required />
        <button type="submit" class="btn btn-light">検索</button>
      </form>
    </header>

    
    <div class="container">
      <h1>食材一覧</h1>
      <table class="table table-bordered">
        <thead class="thead-dark">
          <tr>
            <th>image<br />画像</th>
            <th>delete<br />削除ボタン</th>
            <th>Name<br />(商品名)</th>
            <th>Pdate<br />(購入日)</th>
            <th>Edate<br />(賞味期限)</th>
          </tr>
        </thead>
        <tbody>
          <tr th:each="ing : ${fwm.getIngs()}">
            <td>
              <a th:href="@{/registered(id=${ing.getId()})}">
                <img th:src="@{/images/{filename}(filename=${ing.getFName()})}" alt="商品画像" style="max-width: 100%; max-height: 150px; width: auto; height: auto;" />
              </a>
            </td>
            <td><a th:href="@{/delete(id=${ing.getId()})}">削除</a></td>
            <td th:text="${ing.getPName()}"></td>
            <td th:text="${ing.getPdate()}"></td>
            <td th:text="${ing.getEdate()}"></td>
          </tr>
        </tbody>
      </table>

      
      <div class="container">
        <h1>賞味期限の近い食材一覧</h1>
        <table class="table table-bordered">
          <thead class="thead-dark">
            <tr>
              <th>image<br />画像</th>
              <th>delete<br />削除ボタン</th>
              <th>Name<br />(商品名)</th>
              <th>Pdate<br />(購入日)</th>
              <th>Edate<br />(賞味期限)</th>
            </tr>
          </thead>
          <tbody>
            <tr th:each="ing : ${fwm.getExpiringIngs(2)}">
              <td>
                <a th:href="@{/registered(id=${ing.getId()})}">
                  <img th:src="@{/images/{filename}(filename=${ing.getFName()})}" alt="商品画像" style="width: 200px; height: auto;" />
                </a>
              </td>
              <td><a th:href="@{/delete(id=${ing.getId()})}">削除</a></td>
              <td th:text="${ing.getPName()}"></td>
              <td th:text="${ing.getPdate()}"></td>
              <td th:text="${ing.getEdate()}"></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <footer>
      <p>知能プログラミング演習Ⅱ グループ04</p>
    </footer>
  </body>
</html>
